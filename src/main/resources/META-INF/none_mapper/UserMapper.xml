<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nihil.auth.mapper.UserMapper">

    <sql id="Base_Column_List">
        id, username, password
    </sql>

    <insert id="addUser">
        INSERT INTO auth_user(username, password) VALUES (#{username}, #{password}) ;
    </insert>

    <update id="changeUser">
        INSERT INTO auth_user(username, password) VALUES (#{username}, #{password}) ;
    </update>

    <delete id="deleteUserByUid">
        DELETE FROM auth_user WHERE id = #{id} ;
    </delete>

    <select id="getUserByUid" resultType="com.nihil.common.auth.AuthUser">
        SELECT * FROM auth_user where id = #{id} ;
    </select>

    <select id="getUserByUsername" resultType="com.nihil.common.auth.AuthUser">
        SELECT * FROM auth_user where username = #{username} ;
    </select>

    <select id="getUserByUsernameAndClientId" resultType="com.nihil.common.auth.AuthUser">
        SELECT * FROM auth_user where username = #{username} ;
    </select>

    <select id="getList" resultType="com.nihil.common.auth.AuthUser">
            SELECT * FROM auth_user LIMIT #{offset}, #{size}
    </select>


    <!--    <select id="getUserByUserName" resultMap="AuthUser">-->
<!--        SELECT * FROM auth_user where user_name = #{usreName} ;-->
<!--    </select>-->

<!--    <select id="verifyPassword" resultType="java.lang.Integer">-->
<!--    SELECT count(*) FROM admin where name = #{0} and password = #{1} ;-->
<!--  </select>-->

<!--    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--        &ndash;&gt;-->
<!--        select-->
<!--        <include refid="Base_Column_List" />-->
<!--        from admin-->
<!--        where id = #{id,jdbcType=INTEGER}-->
<!--    </select>-->
<!--    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--        &ndash;&gt;-->
<!--        delete from admin-->
<!--        where id = #{id,jdbcType=INTEGER}-->
<!--    </delete>-->
<!--    <insert id="insert" parameterType="com.example.yin.domain.Admin">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--        &ndash;&gt;-->
<!--        insert into admin (id, name, password-->
<!--        )-->
<!--        values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}-->
<!--        )-->
<!--    </insert>-->
<!--    <insert id="insertSelective" parameterType="com.example.yin.domain.Admin">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--        &ndash;&gt;-->
<!--        insert into admin-->
<!--        <trim prefix="(" suffix=")" suffixOverrides=",">-->
<!--            <if test="id != null">-->
<!--                id,-->
<!--            </if>-->
<!--            <if test="name != null">-->
<!--                name,-->
<!--            </if>-->
<!--            <if test="password != null">-->
<!--                password,-->
<!--            </if>-->
<!--        </trim>-->
<!--        <trim prefix="values (" suffix=")" suffixOverrides=",">-->
<!--            <if test="id != null">-->
<!--                #{id,jdbcType=INTEGER},-->
<!--            </if>-->
<!--            <if test="name != null">-->
<!--                #{name,jdbcType=VARCHAR},-->
<!--            </if>-->
<!--            <if test="password != null">-->
<!--                #{password,jdbcType=VARCHAR},-->
<!--            </if>-->
<!--        </trim>-->
<!--    </insert>-->
<!--    <update id="updateByPrimaryKeySelective" parameterType="com.example.yin.domain.Admin">-->
<!--        &lt;!&ndash;-->
<!--          WARNING - @mbggenerated-->
<!--          This element is automatically generated by MyBatis Generator, do not modify.-->
<!--        &ndash;&gt;-->
<!--        update admin-->
<!--        <set>-->
<!--            <if test="name != null">-->
<!--                name = #{name,jdbcType=VARCHAR},-->
<!--            </if>-->
<!--            <if test="password != null">-->
<!--                password = #{password,jdbcType=VARCHAR},-->
<!--            </if>-->
<!--        </set>-->
<!--        where id = #{id,jdbcType=INTEGER}-->
<!--    </update>-->
<!--    <update id="updateByPrimaryKey" parameterType="com.example.yin.domain.Admin">-->

<!--        update admin-->
<!--        set name = #{name,jdbcType=VARCHAR},-->
<!--        password = #{password,jdbcType=VARCHAR}-->
<!--        where id = #{id,jdbcType=INTEGER}-->
<!--    </update>-->
</mapper>
